@page "/"
@using IfakCrane.Client.Services;
@using IfakCrane.Shared.Models;
@using Newtonsoft.Json;
@using Newtonsoft.Json.Linq;
@using System.Text.Json;
@inject IJSRuntime jSRuntime


<CraneSelectBar></CraneSelectBar>
<div style="display: flex;justify-content: center;align-items: center;">
    <div Style="width: 800px; height: 500px; background-color: #efc3c3; position: relative; padding: 0;" @onclick="MouseClickPosition" @onmousemove="OnMouseMove"
         @onmouseup="StopDragging">
        <div class="animated-card" Style="@Crane2Style; z-index:8888;height:300px; position: absolute; top: 0; left: 0;transition:all">
            <div class="animated-circle" style="@TrolleyC2Style;transition:all;background-color: black"></div>
        </div>
        @if (SelectedFunction == "goto_topic")
        {
            if (showTarget == true)
            {
                <RadzenNotification />
                <div class="blur-dot"  style="left: @dotXpx; top: @dotYpx;z-index:9999"></div>
            }
        }
        else if (SelectedFunction == "cometome_topic")
        {
            <RadzenNotification />
            <div class="oi" @ref="circleElement" style="left:20px; top:10px;z-index:9999" @onmousedown="StartDragging">
                <RadzenImage Path="Images/Walking.png" Style="width:5%;height:5%"/>
            </div>
           @* <div class="blur-dot" @ref="circleElement"
                 style="left:5px; top:5px;z-index:9999"
                 @onmousedown="StartDragging"
            ></div>*@
        }
        else if (SelectedFunction == "followme_topic")
        {
            <RadzenNotification />
            <div class="oi" @ref="circleElement" style="left:20px; top:10px;z-index:9999" @onmousedown="StartDragging">
                <RadzenImage Path="Images/Walking.png" Style="width:5%;height:5%" />
            </div>
        }
        <div class="animated-card" Style="@Crane1Style; margin-top: 0; background-color: darkgoldenrod; z-index: 0;height:300px; position: absolute; top: 200px; left: 0; transition:all">
            <div class="animated-circle" style="@TrolleyC1Style; background-color: black;transition:all"></div>
        </div>
    </div> 
</div>
@*@SelectedFunction
@TrolleyC1Style
@Crane1Style
<h1>Crane2</h1>
@TrolleyC2Style
@Crane2Style
@dotX
Dot Y @dotY*@




